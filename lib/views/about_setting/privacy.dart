import 'package:flutter/material.dart';
import 'package:webview_flutter/webview_flutter.dart';

/// SOI 개인정보 처리방침 – WebView를 통한 HTML 렌더링
class PrivacyPolicyScreen extends StatelessWidget {
  const PrivacyPolicyScreen({super.key});

  static const String _htmlContent = '''
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>SOI 개인정보 처리방침</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body { 
      font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif; 
      line-height: 1.6; 
      padding: 16px; 
      background-color: #000; 
      color: #fff; 
    }
    h1 { font-size: 1.6rem; margin-bottom: 0.5rem; }
    h2 { font-size: 1.2rem; margin-top: 1.5rem; }
    p, li { font-size: 0.95rem; }
    ul, ol { padding-left: 1.1rem; }
    small { font-size: 0.8rem; color: #999; }
    a { color: #4A90D9; }
  </style>
</head>
<body>
  <h1>SOI 개인정보 처리방침</h1>
  <p>
    NewDawn(이하 "회사")가 제공하는 SOI 서비스(이하 "서비스")는
    이용자의 개인정보를 소중하게 생각하며, 「개인정보 보호법」 등 관련 법령을 준수합니다.
    본 개인정보 처리방침은 SOI 서비스 내에서 처리되는 개인정보에 대한 수집·이용 목적,
    보유기간, 보호조치 등에 관하여 설명합니다.
  </p>
  <p><small>시행일: 2025년 11월 27일</small></p>

  <h2>제1조 (처리하는 개인정보의 항목 및 처리 목적)</h2>
  <ol>
    <li>
      회사는 다음과 같은 항목의 개인정보를 다음의 목적을 위하여 처리합니다.
      <ol>
        <li>
          <strong>회원가입 및 본인 확인</strong><br />
          - 수집 항목: 이름, 생년월일, 휴대전화번호, 사용자 ID, 프로필 사진<br />
          - 처리 목적: 본인 여부 확인, 연령 확인, 계정 생성 및 관리, 부정 사용 방지, 서비스 이용자 식별
        </li>
        <li>
          <strong>서비스 제공 및 이용 기록 관리</strong><br />
          - 수집 항목: 이용자가 업로드하는 사진/영상 파일, 사진 내 텍스트 태그, 음성 태그(오디오 데이터)<br />
          - 처리 목적: 사진 업로드 기능 제공, 사진 내 특정 지점에 텍스트·음성 태그 기능 제공,
          친구와의 사진 공유, 사진에 대한 댓글 및 태그 기능 제공, 서비스 이용 기록 관리
        </li>
        <li>
          <strong>친구 추천 및 소셜 기능 제공</strong><br />
          - 수집·이용 항목: 친구 목록(연락처 연동 정보)<br />
          - 처리 목적: 친구 검색 및 추천, 친구와의 사진 공유 등 소셜 기능 제공<br />
          - 추가 안내: 연락처 연동 정보는 서버에 저장되지 않으며, 이용자의 기기(프론트) 내에서만
          일시적으로 사용됩니다.
        </li>
        <li>
          <strong>서비스 이용 과정에서 자동으로 생성·수집될 수 있는 정보</strong><br />
          - 수집 항목(예): 서비스 이용 기록, 접속 일시, 접속 IP 주소, 기기 정보(단말기 모델, OS 버전 등),
          오류 로그 등<br />
          - 처리 목적: 서비스 안정성 확보, 이용자 보호, 부정 이용 방지, 서비스 품질 향상 및 통계 분석
        </li>
      </ol>
    </li>
  </ol>

  <h2>제2조 (개인정보의 처리 및 보유 기간)</h2>
  <ol>
    <li>
      회사는 이용자의 개인정보를 원칙적으로 다음 각 호의 기간 동안 보유·이용하며,
      해당 기간이 경과하거나 처리 목적이 달성된 경우 지체 없이 파기합니다.
    </li>
    <li>
      <strong>회원가입 정보(이름, 생년월일, 휴대전화번호, 사용자 ID, 프로필 사진)</strong><br />
      - 보유 기간: 회원 탈퇴 시까지<br />
      - 파기 시점: 탈퇴 요청 처리 완료 후 지체 없이 즉시 삭제
    </li>
    <li>
      <strong>서비스 이용을 통해 생성된 콘텐츠(사진/영상, 텍스트 태그, 음성 태그 등)</strong><br />
      - 보유 기간: 회원 탈퇴 시까지 또는 이용자가 직접 삭제하는 시점까지<br />
      - 파기 시점: 탈퇴 또는 삭제 요청 처리 완료 후 지체 없이 즉시 삭제
    </li>
    <li>
      <strong>친구 목록(연락처 연동 정보)</strong><br />
      - 서버에 저장하지 않고, 이용자의 기기 내에서만 일시적으로 사용됩니다.<br />
      - 사용 목적 달성 후 또는 앱 종료 시 즉시 파기될 수 있습니다.
    </li>
    <li>
      <strong>서비스 이용 기록, 로그 정보 등</strong><br />
      - 보유 기간: 서비스 안정성 및 보안, 오류 분석을 위하여 필요한 기간 동안 보유 후 지체 없이 파기하며,
      구체적인 보유 기간은 내부 정책에 따라 최소한으로 운영됩니다.
    </li>
  </ol>

  <h2>제3조 (개인정보의 제3자 제공)</h2>
  <ol>
    <li>
      회사는 이용자의 개인정보를 원칙적으로 제3자에게 제공하지 않습니다.
    </li>
    <li>
      다만, 다음의 경우에는 예외적으로 개인정보를 제공할 수 있습니다.
      <ul>
        <li>이용자가 사전에 별도의 동의를 한 경우</li>
        <li>법령에 특별한 규정이 있는 경우 또는 수사기관이 법령에 정해진 절차와 방법에 따라 요청한 경우</li>
      </ul>
    </li>
  </ol>

  <h2>제4조 (개인정보 처리의 위탁)</h2>
  <ol>
    <li>
      회사는 현재 개인정보 처리 업무를 외부 업체에 위탁하고 있지 않습니다.
    </li>
    <li>
      향후 서비스 제공을 위하여 개인정보 처리 업무를 위탁하는 경우,
      위탁받는 자와 위탁 업무의 내용, 보관 기간 등을 관련 법령에 따라 이용자에게 고지하고 필요한 경우 동의를 받겠습니다.
    </li>
  </ol>

  <h2>제5조 (개인정보의 국외 이전)</h2>
  <ol>
    <li>
      회사는 개인정보를 저장·관리하기 위하여 서버를 국내(서울 리전)에 두고 있으며,
      이용자의 개인정보를 국외로 이전하지 않습니다.
    </li>
    <li>
      향후 국외 이전이 발생하는 경우, 관련 법령에 따른 고지 및 동의 절차를 거친 후 처리하겠습니다.
    </li>
  </ol>

  <h2>제6조 (이용자 및 법정대리인의 권리와 그 행사 방법)</h2>
  <ol>
    <li>
      이용자는 회사에 대해 언제든지 자신의 개인정보에 대한 열람, 정정, 삭제, 처리 정지를 요청할 수 있습니다.
    </li>
    <li>
      회사는 만 14세 미만 아동의 개인정보를 법정대리인의 동의 없이 수집하지 않습니다.
      만 14세 미만 이용자가 서비스를 이용하기 위해 가입하는 경우,
      법정대리인의 동의를 받는 절차를 통하여 개인정보를 처리합니다.
    </li>
    <li>
      위 권리 행사는 서비스 내 설정, 문의 이메일 등을 통해 요청하실 수 있으며,
      회사는 지체 없이 필요한 조치를 취하겠습니다. 단, 관련 법령에 따라 열람 및 정정이 제한될 수 있습니다.
    </li>
  </ol>

  <h2>제7조 (개인정보의 파기 절차 및 방법)</h2>
  <ol>
    <li>
      회사는 개인정보 보유 기간이 경과하거나 처리 목적이 달성된 경우,
      내부 방침 및 관련 법령에 따라 지체 없이 해당 정보를 파기합니다.
    </li>
    <li>
      파기 절차<br />
      - 이용자가 회원 탈퇴를 요청하거나, 서비스 이용을 통해 생성된 콘텐츠를 삭제하는 경우,
      관련 개인정보는 지체 없이 파기됩니다.<br />
      - 법령에 따라 일정 기간 저장이 요구되는 경우, 해당 기간 동안 별도의 DB 또는 보관 장소에 옮겨져
      내부 방침에 따라 안전하게 보관 후 파기합니다.
    </li>
    <li>
      파기 방법<br />
      - 전자적 파일 형태: 복구 및 재생이 불가능한 기술적 방법을 사용하여 삭제<br />
      - 종이 문서 형태: 분쇄 또는 소각 등의 방법으로 파기
    </li>
  </ol>

  <h2>제8조 (개인정보의 안전성 확보 조치)</h2>
  <p>회사는 이용자의 개인정보를 안전하게 관리하기 위하여 다음과 같은 조치를 취하고 있습니다.</p>
  <ul>
    <li>개인정보에 대한 접근 권한 최소화 및 권한 관리</li>
    <li>비밀번호 등의 중요 정보에 대한 암호화 처리</li>
    <li>시스템 취약점 점검 및 보안 업데이트 등 기술적 보호 조치</li>
    <li>개인정보 처리자에 대한 교육 및 관리 감독</li>
  </ul>

  <h2>제9조 (개인정보 자동 수집 장치의 설치·운영 및 거부에 관한 사항)</h2>
  <ol>
    <li>
      회사는 서비스 이용 과정에서 쿠키(Cookie) 등 자동 수집 장치를 사용할 수 있습니다.
      쿠키는 서비스 이용 기록, 선호 설정 등을 저장하여 이용자에게 보다 편리한 사용 환경을 제공하기 위한 목적으로 사용될 수 있습니다.
    </li>
    <li>
      이용자는 단말기 또는 브라우저 설정을 통하여 쿠키 저장을 거부하거나 삭제할 수 있으며,
      이 경우 일부 서비스 이용에 제한이 있을 수 있습니다.
    </li>
  </ol>

  <h2>제10조 (개인정보 보호책임자 및 문의처)</h2>
  <p>
    이용자는 서비스 이용 중 발생하는 모든 개인정보 보호 관련 문의, 불만 처리, 피해 구제 등에 관한 사항을
    아래 연락처로 문의하실 수 있습니다.
  </p>
  <ul>
    <li>개인정보 보호 책임자: NewDawn 지정 담당자</li>
    <li>이메일: <a href="mailto:itisnewdawn@gmail.com">itisnewdawn@gmail.com</a></li>
  </ul>
  <p>
    회사는 이용자의 문의에 대해 지체 없이 답변 및 처리해 드리기 위해 최선을 다하겠습니다.
  </p>

  <h2>제11조 (개인정보 처리방침의 변경)</h2>
  <ol>
    <li>
      본 개인정보 처리방침의 내용 추가, 삭제 또는 수정이 있을 경우,
      회사는 개정 내용과 시행일자를 명시하여 서비스 내 공지사항 등을 통해 사전에 공지합니다.
    </li>
    <li>
      본 방침은 상단에 기재된 시행일로부터 적용됩니다.
    </li>
  </ol>
</body>
</html>
''';

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      backgroundColor: Colors.black,
      appBar: AppBar(
        title: const Text('개인정보 처리방침'),
        backgroundColor: Colors.black,
        foregroundColor: Colors.white,
      ),
      body: WebViewWidget(
        controller: WebViewController()
          ..setJavaScriptMode(JavaScriptMode.unrestricted)
          ..setBackgroundColor(Colors.black)
          ..loadHtmlString(_htmlContent),
      ),
    );
  }
}
